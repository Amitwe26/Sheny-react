(this.webpackJsonpsheny=this.webpackJsonpsheny||[]).push([[0],{137:function(e,t,n){},185:function(e,t){},198:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(35),o=n.n(s),i=(n(137),n(17)),l=n(10),u=n(3),d=n.n(u),b=n(6),j=n(5),p=n(7),f=n(26),m=n(4),h={getRandomInt:O,makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},getRandomColor:function(){var e=O(0,4);return["#00ca71","#0085ff","#fdab3d","#e44258"][e]}};function O(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var x={add:function(e,t,n){var a=g(e),r=Object(m.a)({},t);return r.groups.find((function(e){return e.id===n})).tasks.push(a),r},remove:function(e,t,n){var a=n.tasks.filter((function(t){return t.id!==e})),r=Object(m.a)({},t);return r.groups.find((function(e){return e.id===n.id})).tasks=Object(f.a)(a),r},createTask:g,update:function(e,t,n){var a=Object(m.a)({},t),r=a.groups.find((function(e){return e.id===n})),c=r.tasks.findIndex((function(t){return t.id===e.id}));return r.tasks[c]=Object(m.a)({},e),a},getById:function(e,t){return t.tasks.find((function(t){return t.id===e.id}))},addComment:function(e,t){var n=Object(m.a)({},t);return e.createdAt=Date.now(),n.comments.unshift(e),n},removeMember:function(e,t){var n=Object(m.a)({},e);return n.members=n.members.filter((function(e){return e._id!==t})),n},addMember:function(e,t){var n=Object(m.a)({},e);return n.members.push(t),n}};function g(e){return{id:h.makeId(),name:e,tags:["demo","instructions","tutorial"],createdAt:1606733763732,updatedAt:1606733763732,members:[],status:"New",priority:"Low",note:"Add notes to your task",dateRange:{startDate:new Date,endDate:new Date},comments:[{by:{_id:"600877404b50bc8b342c1732",fullname:"Tair Bitan",imgUrl:"https://res.cloudinary.com/tair/image/upload/v1611221821/Tair_xdnngm.jpg"},text:"This is the task's chat",createdAt:Date.now()},{by:{_id:"600877404b50bc8b342c1733",fullname:"Amit Weiss",imgUrl:"https://res.cloudinary.com/tair/image/upload/v1611221821/Amit_cgtbfo.jpg"},text:"Here you can send comments, thoughts and updates about the task",createdAt:Date.now()},{by:{_id:"600877404b50bc8b342c1734",fullname:"Tamir Leshetz",imgUrl:"https://res.cloudinary.com/tair/image/upload/v1611221822/Tamir_zzn3m4.jpg"},text:"Or simply chat with the task members",createdAt:Date.now()}]}}var v={add:function(e,t){var n=Object(m.a)({},t),a=k(e);return n.groups.push(a),n},remove:function(e,t){var n=Object(m.a)({},t),a=n.groups.filter((function(t){return t.id!==e}));return n.groups=Object(f.a)(a),n},update:function(e,t){var n=Object(m.a)({},t),a=n.groups.findIndex((function(t){return t.id===e.id}));return n.groups[a]=Object(m.a)({},e),n},createGroup:k};function k(e){return{id:h.makeId(),name:e,createdAt:1606733763732,updatedAt:1606733763732,tasks:[x.createTask("task1"),x.createTask("task2"),x.createTask("task3")],color:h.getRandomColor()}}var y=n(106),N="/",w=n.n(y).a.create({withCredentials:!0}),S=function(e,t){return A(e,"GET",t)},C=function(e,t){return A(e,"POST",t)},D=function(e,t){return A(e,"PUT",t)},U=function(e,t){return A(e,"DELETE",t)};function A(e){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(d.a.mark((function e(t){var n,a,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"get",a=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,w({url:"".concat(N).concat(t),method:n,data:a});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(a)),console.dir(e.t0),e.t0.response&&e.t0.response.status,e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var T="api/board",R={query:function(){return E.apply(this,arguments)},remove:function(e){return _.apply(this,arguments)},getById:function(e){return I.apply(this,arguments)},add:function(e,t){return L.apply(this,arguments)},update:function(e){return B.apply(this,arguments)},updateBoards:function(e,t){return t.map((function(t){return t._id===e._id?e:t}))}};function E(){return(E=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(T);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("api/board/"+t._id,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("api/board/"+t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("api/board/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(b.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=G(t,n),e.next=3,C(T,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return{name:e,desc:"edit your new board...",status:[{txt:"Completed",color:"#00ca71"},{txt:"Working on it",color:"#fdab3d"},{txt:"Stuck",color:"#e44258"},{txt:"New",color:"gray"}],priority:[{txt:"Low",color:"#00ca71"},{txt:"Medium",color:"#fdab3d"},{txt:"High",color:"#e44258"}],creator:{_id:t._id,fullname:t.fullname,imgUrl:t.imgUrl},groups:[v.createGroup("group1"),v.createGroup("group2"),v.createGroup("group3")],createdAt:Date.now(),members:[{_id:"600877404b50bc8b342c1732",fullname:"Tair Bitan",imgUrl:"https://res.cloudinary.com/tair/image/upload/v1611221821/Tair_xdnngm.jpg"},{_id:"600877404b50bc8b342c1733",fullname:"Amit Weiss",imgUrl:"https://res.cloudinary.com/tair/image/upload/v1611221821/Amit_cgtbfo.jpg"},{_id:"600877404b50bc8b342c1734",fullname:"Tamir Leshetz",imgUrl:"https://res.cloudinary.com/tair/image/upload/v1611221822/Tamir_zzn3m4.jpg"}]}}var P=n(107),F=n.n(P),W=function(){var e;return{setup:function(){e=F()("")},on:function(t,n){e.on(t,n)},off:function(t,n){e.off(t,n)},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}}}();function H(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.query();case 3:return n=e.sent,t({type:"SET_BOARDS",boards:n}),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log("Board Actions: err in loadBoards",e.t0);case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,8,11,13]])})));return function(t){return e.apply(this,arguments)}}()}function J(e){return function(){var t=Object(b.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.getById(e);case 3:a=t.sent,n({type:"SET_BOARD",board:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Board Actions: err in loadBoard",t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})));return function(e){return t.apply(this,arguments)}}()}function z(e,t){return function(){var n=Object(b.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"SET_BOARD",board:e}),n.next=4,R.update(e);case 4:W.emit("board update"),a(q(t)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),a(q("Unsuccessfully")),console.log("Board Actions: err in updateBoard",n.t0);case 12:return n.prev=12,n.finish(12);case 14:case"end":return n.stop()}}),n,null,[[0,8,12,14]])})));return function(e){return n.apply(this,arguments)}}()}function K(e,t){return function(){var n=Object(b.a)(d.a.mark((function n(a){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.add(e,t);case 3:r=n.sent,a({type:"ADD_BOARD",board:r}),a({type:"SET_BOARD",board:r}),W.emit("boards update","added board"),a(q("Add Board successfully")),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),a(q("Unsuccessfully")),console.log("Board Actions: err in addBoard",n.t0);case 14:return n.prev=14,n.finish(14);case 16:case"end":return n.stop()}}),n,null,[[0,10,14,16]])})));return function(e){return n.apply(this,arguments)}}()}function V(e){return function(){var t=Object(b.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"REMOVE_BOARD",boardId:e}),t.next=4,R.remove(e);case 4:W.emit("boards update","removed board"),n(q("Remove Board successfully")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Board Actions: err in removeBoard",t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[0,8,11,13]])})));return function(e){return t.apply(this,arguments)}}()}function X(e){return function(){var t=Object(b.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"SET_BOARD",board:e})}catch(a){console.log("Board Actions: err in set active board",a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function q(e){return function(){var t=Object(b.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"SET_MSG",msg:e})}catch(a){console.log("Error to set MSG ",a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}window.socketService=W;var Y=n(220),Q=n(200),Z=n(53),$=n.n(Z),ee=n(120),te=n.n(ee),ne=n(23),ae=n(24),re=n(27),ce=n(25),se=n(117),oe=n.n(se);function ie(e){var t=e.onAddTask,n=e.groupId,c=e.color,s=Object(r.useState)({txt:""}),o=Object(j.a)(s,2),i=o[0],l=o[1];return Object(a.jsxs)("div",{className:"task-add flex",children:[Object(a.jsx)("div",{className:"task-color",style:{background:" ".concat(c," "),opacity:.6}}),Object(a.jsx)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t(i.txt,n),l({txt:""})}(e)},children:Object(a.jsx)("input",{autoComplete:"off",className:"input-task",type:"text",name:"txt",placeholder:"+Add",value:i.txt,onChange:function(e){return function(e){var t=e.target.value,n=Object(m.a)({},i);n.txt=t,l(n)}(e)}})})]})}var le=n(219),ue=n(116),de=n.n(ue),be=n.p+"static/media/chat.ae1f34aa.svg";function je(e){var t=e.changeColor,n=e.togglePallete,r=e.opacity;return Object(a.jsxs)("section",{className:"colors-container",style:{opacity:"".concat(r)},children:[Object(a.jsx)("button",{className:"btn-color dark-green",onClick:function(e){t(e,"rgb(3, 127, 76)"),n()}}),Object(a.jsx)("button",{className:"btn-color green",onClick:function(e){t(e,"rgb(0, 202, 113)"),n()}}),Object(a.jsx)("button",{className:"btn-color khaki",onClick:function(e){t(e,"rgb(156, 211, 38)"),n()}}),Object(a.jsx)("button",{className:"btn-color orange",onClick:function(e){t(e,"rgb(255, 100, 46)"),n()}}),Object(a.jsx)("button",{className:"btn-color light-orange",onClick:function(e){t(e,"rgb(253, 171, 61)"),n()}}),Object(a.jsx)("button",{className:"btn-color yellow",onClick:function(e){t(e,"rgb(253, 171, 61)"),n()}}),Object(a.jsx)("button",{className:"btn-color purple",onClick:function(e){t(e,"rgb(120, 75, 209)"),n()}}),Object(a.jsx)("button",{className:"btn-color light-purple",onClick:function(e){t(e,"rgb(162, 93, 220)"),n()}}),Object(a.jsx)("button",{className:"btn-color blue",onClick:function(e){t(e,"rgb(0, 134, 192)"),n()}}),Object(a.jsx)("button",{className:"btn-color bourdeaux",onClick:function(e){t(e,"rgb(187, 51, 84)"),n()}}),Object(a.jsx)("button",{className:"btn-color red",onClick:function(e){t(e,"rgb(228, 66, 88)"),n()}}),Object(a.jsx)("button",{className:"btn-color pink",onClick:function(e){t(e,"rgb(255, 21, 138)"),n()}}),Object(a.jsx)("button",{className:"btn-color black",onClick:function(e){t(e,"rgb(32, 20, 17)"),n()}}),Object(a.jsx)("button",{className:"btn-color brown",onClick:function(e){t(e,"rgb(127, 83, 71)"),n()}}),Object(a.jsx)("button",{className:"btn-color gray",onClick:function(e){t(e,"gray"),n()}})]})}var pe=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={labelToAdd:{txt:"",color:"rgb(120, 75, 209)"}},e.handleChange=function(t){var n=t.target.value,a=Object(m.a)({},e.state.labelToAdd);a.txt=n,e.setState({labelToAdd:a})},e.onColorChange=function(t,n){t.stopPropagation(),t.preventDefault();var a=Object(m.a)({},e.state.labelToAdd);a.color=n,e.setState({labelToAdd:a})},e.onSubmit=function(t){var n=Object(m.a)({},e.state.labelToAdd);n.txt="",e.setState({labelToAdd:n}),e.props.onAddLabel(t,e.state.labelToAdd,e.props.type)},e.pass=function(){},e}return Object(ae.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.options,r=t.type,c=t.handleModalChange,s=t.onRemoveLabel,o=t.findLabel,i=this.state.labelToAdd;return Object(a.jsxs)("div",{className:" task-property-modal",children:[n.map((function(e,t){return Object(a.jsxs)("div",{className:"option flex space-between align-center",style:{backgroundColor:e.color},onClick:function(){return c(e.txt,r)},children:[Object(a.jsx)("span",{className:"text-no-overflow",children:e.txt}),Object(a.jsx)(le.a,{className:"del-btn",style:o(e.txt,r)?{cursor:"no-drop"}:{},onClick:function(t){s(t,e.txt,r)}})]},t)})),Object(a.jsxs)("form",{onClick:function(e){e.stopPropagation()},onSubmit:function(t){e.onSubmit(t)},children:[Object(a.jsx)("input",{className:"input",onChange:this.handleChange,type:"text",value:i.txt,placeholder:"add label...",style:{borderLeftColor:this.state.labelToAdd.color}}),Object(a.jsx)("button",{type:"submit",hidden:!0}),Object(a.jsx)(je,{className:"color-pallete",changeColor:this.onColorChange,togglePallete:this.pass})]})]})}}]),n}(r.Component),fe=(n(188),n(189),n(111)),me=n(104),he=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1,dateRange:{},timeline:"",workingDays:0,barWidth:0,barColor:null},e.toggleDatePicker=function(){e.setState({isOpen:!e.state.isOpen})},e.handleSelect=function(t){var n=e.props,a=n.onUpdateTask,r=n.group,c=n.task,s=Object(m.a)({},e.state.dateRange);s.startDate=t.selection.startDate,s.endDate=t.selection.endDate,e.calcBarWidth(s),e.setState({dateRange:s},(function(){e.showTimeline(),c.dateRange=e.state.dateRange,a(c,r.id)}))},e.showTimeline=function(){var t=e.state.dateRange,n=me(t.startDate,"mmm-dd"),a=me(t.endDate,"mmm-dd");e.setState({timeline:"".concat(n," - ").concat(a)})},e.calcBarWidth=function(t){var n=new Date(t.endDate).getTime()-new Date(t.startDate).getTime(),a=(Date.now()-new Date(t.startDate).getTime())/n*100,r=n/1e3/60/60/24;e.setState({barWidth:a,workingDays:r})},e}return Object(ae.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.task.dateRange,n=this.props.group;this.setState({dateRange:t,barColor:n.color},(function(){e.showTimeline(),e.calcBarWidth(t)}))}},{key:"render",value:function(){var e=this.state,t=e.isOpen,n=e.timeline,r=e.workingDays,c=e.dateRange,s=e.barColor,o=e.barWidth;if(c==={})return Object(a.jsx)("div",{children:"Loading..."});var i={startDate:new Date(c.startDate),endDate:new Date(c.endDate),key:"selection"};return Object(a.jsxs)("section",{className:"column-date",children:[Object(a.jsxs)("div",{className:"date flex align-center",onClick:this.toggleDatePicker,children:[Object(a.jsx)("div",{className:"date-bar",style:{backgroundColor:"".concat(s),width:"".concat(o,"%")}}),Object(a.jsx)("div",{className:"date-content",children:n}),Object(a.jsx)("div",{className:"date-hover-content",children:"".concat(r,"d")})]}),Object(a.jsx)("div",{children:t&&Object(a.jsx)(fe.DateRangePicker,{ranges:[i],onChange:this.handleSelect})}),t&&Object(a.jsx)("div",{className:"screen",onClick:this.toggleDatePicker})]})}}]),n}(r.Component),Oe=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={note:"",isEditable:!1},e.handleChange=function(t){e.setState({note:t.target.value})},e.onSave=function(t){var n=e.props.handleNoteChange;e.setState({isEditable:!1}),n(e.state.note)},e.closeModal=function(){e.setState({isEditable:!1})},e}return Object(ae.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.task.note;this.setState({note:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.note,r=t.isEditable;return Object(a.jsxs)("section",{className:"column-notes",children:[Object(a.jsx)("p",{className:"editable",onClick:function(){return e.setState({isEditable:!0})},children:n}),r&&Object(a.jsx)("textarea",{className:"modal-edit",cols:"20",rows:"10",autoFocus:!0,value:n,onChange:this.handleChange,onKeyDown:function(t){"Enter"===t.key&&e.onSave(t)}}),r&&Object(a.jsx)("div",{onClick:this.closeModal,className:"screen"})]})}}]),n}(r.Component);function xe(e){var t=e.onRemoveMember,n=e.task,r=e.boardMembers,c=e.onAddMember;return Object(a.jsxs)("div",{className:"members-list",children:[Object(a.jsx)("input",{type:"text",placeholder:"Enter name",autoFocus:!0}),n.members.map((function(e){return Object(a.jsxs)("div",{className:"member-card flex align-center",onClick:function(){t(e._id)},children:[Object(a.jsxs)("div",{className:"member-right flex align-center",children:[Object(a.jsx)(Q.a,{className:"avatar",alt:"".concat(e.fullname),src:e.imgUrl}),Object(a.jsx)("span",{className:"member-name",children:e.fullname})]}),Object(a.jsx)("span",{className:"member-btn",children:"\u2212"})]},e._id)})),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("span",{className:"people",children:"People"})]}),function(e,t){return t.map((function(t){if(!e.find((function(e){return e._id===t._id})))return Object(a.jsxs)("div",{className:"member-card flex align-center",onClick:function(){c(t)},children:[Object(a.jsxs)("div",{className:"member-right flex align-center",children:[Object(a.jsx)(Q.a,{className:"avatar",alt:"".concat(t.fullname),src:t.imgUrl}),Object(a.jsx)("span",{className:"member-name",children:t.fullname})]}),Object(a.jsx)("span",{className:"member-btn",children:"+"})]},t._id)}))}(n.members,r)]})}function ge(e){var t,n=e.task,c=e.boardMembers,s=e.onRemoveMember,o=e.onAddMember,i=Object(r.useState)(!1),l=Object(j.a)(i,2),u=l[0],d=l[1],b=function(){d(!u)};return Object(a.jsxs)("div",{className:"column-members",children:[Object(a.jsx)(Y.a,{max:2,className:"avatar-container flex center",onClick:function(){return b()},children:(t=n.members,t.length?t.map((function(e){return Object(a.jsx)(Q.a,{className:"avatar",alt:e.fullname,src:e.imgUrl},e._id)})):Object(a.jsx)(Q.a,{className:"avatar",src:"/broken-image"}))}),u&&Object(a.jsx)(xe,{onRemoveMember:s,task:n,boardMembers:c,onAddMember:o}),u&&Object(a.jsx)("div",{className:"screen",onClick:function(){return b()}})]})}var ve=n(235),ke=n(114),ye=n.n(ke),Ne=n(113),we=n.n(Ne),Se=n(112),Ce=n.n(Se);function De(e){var t=e.comment;return Object(a.jsxs)("div",{className:"comment-preview flex col",children:[Object(a.jsxs)("div",{className:"comment-author flex space-between align-center",children:[Object(a.jsxs)("div",{className:"flex align-center",children:[Object(a.jsx)(Q.a,{className:"author-img",src:t.by.imgUrl,alt:"avatar"}),Object(a.jsx)("h4",{className:"author-name",children:t.by.fullname})]}),Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"comment-time flex align-center ",children:new Date(t.createdAt).toLocaleTimeString()})})]}),Object(a.jsx)("span",{className:"comment-text",children:t.text}),t.imgUrl&&Object(a.jsx)("img",{className:"uploaded-img",src:t.imgUrl,alt:"content"}),Object(a.jsxs)("div",{className:"btn-comment-bottom flex",children:[Object(a.jsxs)("span",{className:"btn flex center align-center",children:[Object(a.jsx)(Ce.a,{}),"Like"]}),Object(a.jsxs)("span",{className:"btn flex center align-center",children:[Object(a.jsx)(we.a,{}),"Reply"]})]})]})}function Ue(e){var t=e.comments;return Object(a.jsx)("div",{className:"comment-list",children:t.map((function(e,t){return Object(a.jsx)(De,{comment:e},t)}))})}var Ae={uploadImg:function(e){return Me.apply(this,arguments)}};function Me(){return(Me=Object(b.a)(d.a.mark((function e(t){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"tair",n="https://api.cloudinary.com/v1_1/".concat("tair","/image/upload"),"zgpktlvr",(a=new FormData).append("file",t.target.files[0]),a.append("upload_preset","zgpktlvr"),e.prev=6,e.next=9,fetch(n,{method:"POST",body:a});case 9:return r=e.sent,e.next=12,r.json();case 12:return c=e.sent,e.abrupt("return",c);case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}var Te=n(115),Re=n.n(Te),Ee=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={clickedInput:!1,comment:{by:{},text:"",imgUrl:""}},e.onUpload=function(){var t=Object(b.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Ae.uploadImg(n);case 3:a=t.sent,e.setState((function(e){return{comment:Object(m.a)(Object(m.a)({},e.comment),{},{imgUrl:a.url})}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleShowTextArea=function(){e.setState({clickedInput:!e.state.clickedInput})},e.onSubmitComment=function(t){t.preventDefault(),e.toggleShowTextArea(),e.props.onAddComment(e.state.comment);var n=Object(m.a)({},e.state.comment);n.text="",e.setState({comment:n})},e.handleChange=function(t){var n=t.target.value,a=Object(m.a)({},e.state.comment);a.text=n,e.setState({comment:a})},e}return Object(ae.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.loggedInUser,t={_id:e._id,fullname:e.fullname,imgUrl:e.imgUrl},n=Object(m.a)({},this.state.comment);n.by=t,this.setState({comment:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.clickedInput,r=t.comment,c=this.props,s=c.task,o=c.closeModal;return Object(a.jsxs)("section",{className:"task-details",onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)(ye.a,{className:"close-icon",onClick:o}),Object(a.jsx)("div",{className:"task-name-container",children:Object(a.jsx)("span",{children:s.name})}),!n&&Object(a.jsx)("input",{type:"text",onFocus:this.toggleShowTextArea,placeholder:"Write an update ..."}),n&&Object(a.jsxs)("form",{className:"comment-wrapper flex col",onSubmit:function(t){e.onSubmitComment(t)},children:[Object(a.jsx)("textarea",{autoFocus:!0,value:r.text,onChange:function(t){return e.handleChange(t)},required:!0}),Object(a.jsxs)("div",{className:"upload-img flex col",children:[Object(a.jsxs)("label",{children:[Object(a.jsxs)("span",{className:"flex align-center",children:[Object(a.jsx)(Re.a,{})," Add File"]}),Object(a.jsx)("input",{type:"file",onChange:function(t){return e.onUpload(t)},name:""})]}),r.imgUrl&&Object(a.jsx)("img",{src:r.imgUrl,alt:""})]}),Object(a.jsx)(ve.a,{className:"update-btn",type:"submit",variant:"contained",children:"send"})]}),Object(a.jsx)(Ue,{comments:s.comments})]})}}]),n}(r.Component);function Be(e){var t=e.info,n=e.keyName,c=e.onRemove,s=e.onToggleModalDelete,o=e.group,i=Object(r.useState)(""),l=Object(j.a)(i,2),u=l[0],d=l[1];Object(r.useEffect)((function(){n&&d(n)}),[n]);return Object(a.jsxs)("div",{className:"modal-delete flex col space-between",children:[Object(a.jsx)("div",{className:"top",children:Object(a.jsxs)("p",{children:["Are you sure want to delete ",u,'? "',t.name,'"']})}),Object(a.jsxs)("div",{className:"bottom flex align-center",children:[Object(a.jsx)("button",{className:"btn-delete",onClick:function(){"task"===n?c(t.id,o):c("group"===n?t.id:t._id)},children:"Delete"}),Object(a.jsx)("button",{className:"btn-go-back",onClick:function(){return s()},children:"Go Back"})]})]})}var _e=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,task:{},isShownDetails:!1,isShownMembers:!1,isModalShown:!1,isStatusClicked:!1,isPriorityClicked:!1,isModalDeleteShown:!1,isOver:!1},e.toggleEditMode=function(){e.setState({editMode:!e.state.editMode})},e.toggleShowDetails=function(){e.setState({isShownDetails:!e.state.isShownDetails})},e.toggleHoverMouse=function(){e.setState({isOver:!0})},e.toggleUnHoverMouse=function(){e.setState({isOver:!1})},e.toggleShowModal=function(t){"status"===t?e.setState({isStatusClicked:!e.state.isStatusClicked,isModalShown:!e.state.isModalShown}):e.setState({isPriorityClicked:!e.state.isPriorityClicked,isModalShown:!e.state.isModalShown})},e.handleChange=function(t){var n=t.target.value,a=t.target.name,r=Object(m.a)({},e.state.task);r[a]=n,e.setState({task:r})},e.onChangeDate=function(t){var n=e.props,a=n.group,r=n.task;r.dateRange=t,e.props.onUpdateTask(r,a.id)},e.handleNoteChange=function(t){var n=e.props,a=n.group,r=n.task;r.note=t,e.props.onUpdateTask(r,a.id)},e.handleModalChange=function(t,n){var a=Object(m.a)({},e.props.task);a[n]=t,e.setState({task:a},(function(){e.props.onUpdateTask(a,e.props.group.id)}))},e.closeModal=function(){e.setState({isStatusClicked:!1,isPriorityClicked:!1,isModalShown:!1,isShownDetails:!1})},e.onToggleDelete=function(){var t=e.state.isModalDeleteShown;e.setState({isModalDeleteShown:!t})},e.closeDetails=function(){e.setState({isShownDetails:!1})},e.onAddLabel=function(t,n,a){t.preventDefault(),e.props.activeBoard[a].push(n);var r=e.props,c=r.group,s=r.task;e.props.onUpdateTask(s,c.id)},e.onRemoveLabel=function(t,n,a){if(t.stopPropagation(),!e.findLabel(n,a)){e.props.activeBoard[a]=e.props.activeBoard[a].filter((function(e){return e.txt!==n}));var r=e.props,c=r.group,s=r.task;e.props.onUpdateTask(s,c.id)}},e.findLabel=function(t,n){var a=!1;return e.props.activeBoard.groups.forEach((function(e){e.tasks.forEach((function(e){e[n]===t&&(a=!0)}))})),a},e.onAddComment=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props.group,a=x.addComment(t,e.props.task);e.props.onUpdateTask(a,n.id)},e.getPropColor=function(t,n){return e.props.activeBoard[n].find((function(e){return e.txt===t})).color},e.onRemoveMember=function(t){var n=e.props,a=n.group,r=n.task;(0,n.onUpdateTask)(x.removeMember(r,t),a.id)},e.onAddMember=function(){var t=Object(b.a)(d.a.mark((function t(n){var a,r,c,s,o,i,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,r=a.group,c=a.task,s=a.onUpdateTask,o=a.loggedInUser,i=x.addMember(c,n),s(i,r.id),l={byUser:{_id:o._id,fullname:o.fullname,imgUrl:o.imgUrl},content:"added ".concat(n.fullname," to task ").concat(c.name)},W.emit("task add member",l);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(ae.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.task;this.setState({task:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onRemoveTask,r=t.task,c=t.group,s=t.onUpdateTask,o=t.provided,i=t.activeBoard,l=t.loggedInUser,u=this.state,d=u.editMode,b=u.isStatusClicked,j=u.isPriorityClicked,p=u.isShownDetails,f=u.isModalShown,h=u.isOver,O=this.state.task.name;return i?Object(a.jsxs)("div",{className:"task-preview flex space-between",children:[Object(a.jsx)("div",{className:"color-group",style:{background:" ".concat(c.color," ")}}),Object(a.jsxs)("div",Object(m.a)(Object(m.a)({className:"task-left flex space-between align-center"},o.dragHandleProps),{},{children:[Object(a.jsxs)("div",{className:"task-left-content flex align-center text-no-overflow",children:[Object(a.jsx)(le.a,{className:"trash",onClick:this.onToggleDelete}),this.state.isModalDeleteShown&&Object(a.jsx)(Be,{onRemove:n,info:r,keyName:"task",group:c,onToggleModalDelete:this.onToggleDelete}),this.state.isModalDeleteShown&&Object(a.jsx)("div",{className:"dark-screen-nover ",onClick:this.onToggleDelete}),d&&Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.toggleEditMode(),s(e.state.task,c.id)},children:[Object(a.jsx)("input",{name:"name",value:O,onBlur:function(){e.toggleEditMode();var t=Object(m.a)({},r);t.name=O,s(t,c.id)},autoComplete:"off",autoFocus:!0,onChange:function(t){return e.handleChange(t)}}),Object(a.jsx)("button",{type:"submit",hidden:!0})]}),!d&&Object(a.jsx)("p",{className:"task-name",onChange:function(e){},children:r.name}),!d&&Object(a.jsx)(de.a,{className:"edit-icon",onClick:this.toggleEditMode,children:"edit"})]}),Object(a.jsx)("div",{className:"task-left-chat flex end align-center",onClick:this.toggleShowDetails,children:Object(a.jsx)("img",{src:be,width:"25px",alt:"chaticon",className:"icon-chat"})})]})),Object(a.jsxs)("div",{className:"task-right flex align-center space-between",children:[Object(a.jsx)(ge,{task:r,boardMembers:i.members,onRemoveMember:this.onRemoveMember,onAddMember:this.onAddMember}),Object(a.jsxs)("div",{className:"status relative flex center align-center ",style:{backgroundColor:this.getPropColor(r.status,"status")},onMouseEnter:this.toggleHoverMouse,onMouseOut:this.toggleUnHoverMouse,onClick:function(){e.toggleShowModal("status")},children:[Object(a.jsx)("span",{className:"text-no-overflow",children:r.status}),b&&Object(a.jsx)(pe,{type:"status",handleModalChange:this.handleModalChange,options:i.status,onAddLabel:this.onAddLabel,onRemoveLabel:this.onRemoveLabel,findLabel:this.findLabel}),Object(a.jsx)("div",{className:"".concat(h?"small-div":"small-div-close"),style:{backgroundColor:this.getPropColor(r.status,"status")}})]}),Object(a.jsx)(he,{className:"column-date",task:r,group:c,onUpdateTask:s}),Object(a.jsxs)("div",{className:"priority relative flex align-center center",style:{backgroundColor:this.getPropColor(r.priority,"priority")},onClick:function(){e.toggleShowModal("priority")},children:[Object(a.jsx)("span",{className:"text-no-overflow",children:r.priority}),j&&Object(a.jsx)(pe,{type:"priority",handleModalChange:this.handleModalChange,options:i.priority,onAddLabel:this.onAddLabel,onRemoveLabel:this.onRemoveLabel,findLabel:this.findLabel})]}),Object(a.jsx)(Oe,{task:r,handleNoteChange:this.handleNoteChange})]}),f&&Object(a.jsx)("div",{className:"screen",onClick:this.closeModal}),p&&Object(a.jsx)("div",{className:"dark-screen",onClick:this.closeModal}),p&&Object(a.jsx)(Ee,{groupId:c.id,task:r,onAddComment:this.onAddComment,closeModal:this.closeModal,onUpdateTask:s,loggedInUser:l})]}):Object(a.jsx)("div",{children:"Loading..."})}}]),n}(r.Component),Ie=n(42);function Le(e){var t=e.tasks,n=e.group,r=e.onRemoveTask,c=e.onUpdateTask,s=e.activeBoard,o=e.loggedInUser,i=e.onUpdateUser;return Object(a.jsx)("section",{children:Object(a.jsx)(Ie.c,{droppableId:n.id,type:"task",children:function(e){return Object(a.jsxs)("div",Object(m.a)(Object(m.a)({className:"task-list flex col"},e.droppableProps),{},{ref:e.innerRef,children:[t.map((function(e,t){return Object(a.jsx)(Ie.b,{draggableId:null===e||void 0===e?void 0:e.id,index:t,children:function(t){return Object(a.jsx)("div",Object(m.a)(Object(m.a)({},t.draggableProps),{},{ref:t.innerRef,children:Object(a.jsx)(_e,{task:e,group:n,onRemoveTask:r,onUpdateTask:c,provided:t,activeBoard:s,loggedInUser:o,onUpdateUser:i},null===e||void 0===e?void 0:e.id)}))}},null===e||void 0===e?void 0:e.id)})),e.placeholder]}))}})})}var Ge=n(66),Pe=n.n(Ge),Fe=n(221);function We(e){var t=e.group,n=e.toggleModal,s=e.onUpdateGroup,o=e.onRemoveGroup,i=Object(r.useState)(!1),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(r.useState)(!1),p=Object(j.a)(b,2),f=p[0],h=p[1],O=function(){d(!u)},x=function(){h(!f)};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)("section",{className:"group-edit flex col ",children:[Object(a.jsxs)("span",{className:"delete flex align-center",onClick:function(){return x()},children:[Object(a.jsx)(Pe.a,{className:"icon-delete"}),"Delete Group"]}),Object(a.jsxs)("span",{className:"color flex align-center",onClick:function(){return O()},children:[Object(a.jsx)(Fe.a,{}),"Change Color",u&&Object(a.jsx)(je,{togglePallete:O,changeColor:function(e,a){e.stopPropagation();var r=Object(m.a)({},t);r.color=a,s(r),n()}})]})]}),f&&Object(a.jsx)(Be,{info:t,keyName:"group",onRemove:o,onToggleModalDelete:x}),f&&Object(a.jsx)("div",{className:"dark-screen-nover "})]})}var He=n(222);function Je(e){var t=e.tasks,n=e.activeBoard,r={},c={};return n.status.forEach((function(e){c[e.txt]=0})),n.priority.forEach((function(e){r[e.txt]=0})),t.forEach((function(e){r[null===e||void 0===e?void 0:e.priority]++,c[e.status]++})),Object(a.jsxs)("section",{className:"group-progress-bar flex",children:[Object(a.jsx)("div",{className:"priority-prog-bar flex",children:n.priority.map((function(e,n){return Object(a.jsx)("div",{"data-title":"".concat(e.txt," ").concat(r[e.txt]," / ").concat(t.length,"\n                         ").concat((r[e.txt]/t.length*100).toFixed(),"%"),style:{backgroundColor:e.color,width:r[e.txt]/t.length*100+"%"}},n)}))}),Object(a.jsx)("div",{className:"status-prog-bar flex",children:n.status.map((function(e,n){return Object(a.jsx)("div",{"data-title":"".concat(e.txt," ").concat(c[e.txt]," / ").concat(t.length,"\n                         ").concat((c[e.txt]/t.length*100).toFixed(),"%"),style:{backgroundColor:e.color,width:c[e.txt]/t.length*100+"%"}},n)}))})]})}var ze=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1},e.toggleModal=function(){var t=e.state.showModal;t=!t,e.setState({showModal:t})},e.closeModal=function(){e.setState({showModal:!1})},e}return Object(ae.a)(n,[{key:"render",value:function(){var e=this.props,t=e.group,n=e.onAddTask,r=e.onRemoveTask,c=e.onUpdateTask,s=e.onRemoveGroup,o=e.onUpdateGroup,i=e.handleDragEnd,l=e.provided,u=e.activeBoard,d=e.loggedInUser,b=this.state.showModal;return Object(a.jsxs)("section",{className:"group-preview flex col",children:[Object(a.jsxs)("div",{className:"group-header flex space-between",children:[Object(a.jsxs)("div",{className:"group-header-left flex",children:[Object(a.jsx)("span",Object(m.a)(Object(m.a)({className:"icon-drag"},l.dragHandleProps),{},{children:Object(a.jsx)(oe.a,{})})),Object(a.jsx)(He.a,{onClick:this.toggleModal,className:"btn-expand"}),b&&Object(a.jsx)(We,{onRemoveGroup:s,onUpdateGroup:o,group:t,toggleModal:this.toggleModal}),Object(a.jsx)("span",{className:"group-name editable",style:{color:"".concat(t.color),fontWeight:"normal"},contentEditable:"true",onBlur:function(e){var n=Object(m.a)({},t);n.name=e.target.innerText,o(n)},suppressContentEditableWarning:!0,onKeyDown:function(e){"Enter"===e.key&&e.target.blur()},children:t.name})]}),Object(a.jsxs)("div",{className:"group-header-right flex",children:[Object(a.jsx)("h5",{children:"Members"}),Object(a.jsx)("h5",{children:"Status"}),Object(a.jsx)("h5",{children:"TimeLine"}),Object(a.jsx)("h5",{children:"Priority"}),Object(a.jsx)("h5",{children:"Notes"})]})]}),Object(a.jsx)(Le,{tasks:t.tasks,group:t,onUpdateTask:c,onRemoveTask:r,handleDragEnd:i,activeBoard:u,loggedInUser:d}),Object(a.jsx)(ie,{onAddTask:n,groupId:t.id,color:t.color}),Object(a.jsx)(Je,{activeBoard:u,tasks:t.tasks}),b&&Object(a.jsx)("div",{className:"screen",onClick:this.closeModal})]})}}]),n}(r.Component);function Ke(e){var t=e.groups,n=e.onAddTask,r=e.onRemoveTask,c=e.onRemoveGroup,s=e.handleDragEnd,o=e.onUpdateTask,i=e.onUpdateGroup,l=e.activeBoard,u=e.loggedInUser;return Object(a.jsx)("section",{className:"group-list",children:Object(a.jsx)(Ie.a,{onDragEnd:s,children:Object(a.jsx)(Ie.c,{droppableId:"groups",type:"group",children:function(e){return Object(a.jsxs)("div",Object(m.a)(Object(m.a)({className:"groups"},e.droppableProps),{},{ref:e.innerRef,children:[t.map((function(e,t){return Object(a.jsx)(Ie.b,{draggableId:e.id,index:t,children:function(t){return Object(a.jsx)("div",Object(m.a)(Object(m.a)({},t.draggableProps),{},{ref:t.innerRef,children:Object(a.jsx)(ze,{onRemoveTask:r,onAddTask:n,group:e,onRemoveGroup:c,onUpdateTask:o,onUpdateGroup:i,handleDragEnd:s,provided:t,activeBoard:l,loggedInUser:u})}))}},e.id)})),e.placeholder]}))}})})})}var Ve=n(67),Xe=n.n(Ve),qe=n(68),Ye=n.n(qe);function Qe(e){var t=e.activeBoard,n=e.getGroupsForDisplay,c=Object(r.useState)({groupName:"",member:"",status:"",priority:"",date:""}),s=Object(j.a)(c,2),o=s[0],i=s[1],l=function(e,t,a){e.stopPropagation();var r=Object(m.a)({},o);r[t]=a,i(r),n(r)};return Object(a.jsxs)("section",{className:"filter-modal flex",children:[Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h1",{children:"Group"}),Object(a.jsx)("ul",{className:"list groups clean-list",children:t.groups.map((function(e){return Object(a.jsx)("li",{onClick:function(t){return l(t,"groupName",e.name)},children:e.name},e.id)}))})]}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h1",{children:"Member"}),Object(a.jsx)("ul",{className:"list clean-list member",children:t.members.map((function(e){return Object(a.jsxs)("li",{className:"member-tab flex align-center",onClick:function(t){return l(t,"member",e.fullname)},children:[Object(a.jsx)(Q.a,{className:"avatar",alt:"".concat(e.fullname),src:e.imgUrl}),Object(a.jsx)("span",{className:"member-name",children:e.fullname})]},e._id)}))})]}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h1",{children:"Priority"}),Object(a.jsx)("ul",{className:"list priorities clean-list",children:t.priority.map((function(e,t){return Object(a.jsx)("li",{className:"priority",style:{background:e.color},onClick:function(t){return l(t,"priority",e.txt)},children:e.txt},t)}))})]}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h1",{children:"Status"}),Object(a.jsx)("ul",{className:"list statuses clean-list",children:t.status.map((function(e,t){return Object(a.jsx)("li",{className:"status",style:{background:e.color},onClick:function(t){return l(t,"status",e.txt)},children:e.txt},t)}))})]}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h1",{children:"Due Date"}),Object(a.jsxs)("ul",{className:"list dates clean-list",children:[Object(a.jsx)("li",{onClick:function(e){return l(e,"date","today")},children:"Today"}),Object(a.jsx)("li",{onClick:function(e){return l(e,"date","tomorrow")},children:"Tomorrow"}),Object(a.jsx)("li",{onClick:function(e){return l(e,"date","this week")},children:"This Week"})]})]}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h1",{children:"Passed Date"}),Object(a.jsxs)("ul",{className:"list dates clean-list",children:[Object(a.jsx)("li",{onClick:function(e){return l(e,"date","all passed")},children:"All Passed"}),Object(a.jsx)("li",{onClick:function(e){return l(e,"date","yesterday")},children:"Yesterday"}),Object(a.jsx)("li",{onClick:function(e){return l(e,"date","last week")},children:"Last Week"})]})]})]})}var Ze=function(e){Object(re.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={filterBy:{txt:""},isSearching:!1},e.handleChange=function(t){var n=Object(m.a)({},e.state.filterBy);n.txt=t.target.value,e.setState({filterBy:n},(function(){return e.props.getGroupsForDisplay(n)}))},e.toggleSearch=function(){e.setState({isSearching:!e.state.isSearching})},e}return Object(ae.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.activeBoard,r=t.toggleFilter,c=t.isFilterShow,s=t.groups,o=t.getGroupsForDisplay,i=this.state.isSearching;return Object(a.jsxs)("div",{className:"filter flex align-center",children:[Object(a.jsxs)("div",{className:"btn-search flex align-center ".concat(i&&"searching"),onClick:this.toggleSearch,onBlur:function(){e.setState({isSearching:!1})},onKeyDown:function(t){"Enter"===t.key&&e.setState({isSearching:!1})},children:[Object(a.jsx)(Xe.a,{}),Object(a.jsx)("input",{className:"input-search",type:"text",autoComplete:"off",onChange:this.handleChange,placeholder:"Search"})]}),Object(a.jsxs)("button",{className:"btn-filter flex center align-center",onClick:r,children:[Object(a.jsx)(Ye.a,{})," Filter",c&&Object(a.jsx)(Qe,{activeBoard:n,groups:s,getGroupsForDisplay:o})]})]})}}]),n}(r.Component);function $e(e){var t=e.activities,n=e.togglemodalActivities,r=e.activeModal;return Object(a.jsxs)("div",{className:"activities-modal ".concat(r?"modal-open":""),children:[Object(a.jsx)("button",{onClick:function(){return n()},children:"X"}),Object(a.jsx)("h1",{children:"Activities"}),Object(a.jsxs)("ul",{className:"",children:[Object(a.jsx)("li",{children:"Activity"}),Object(a.jsx)("li",{children:"Last viewed"}),Object(a.jsx)("li",{children:"Updates"})]}),Object(a.jsx)("button",{children:"Filter log"}),Object(a.jsx)("input",{type:"text",placeholder:"Filter by name"}),t.map((function(e){return Object(a.jsx)("div",{className:"active-preview",children:Object(a.jsx)("span",{children:e.name})},e.id)}))]})}var et=n(119),tt=n.n(et),nt=n(118),at=n.n(nt);function rt(e){var t=e.board,n=e.onToggleModalOptions,c=e.onRemove,s=e.onToggleEditName,o=Object(r.useState)(!1),i=Object(j.a)(o,2),l=i[0],u=i[1],d=function(){u(!l)};return Object(a.jsxs)("div",{className:"modal-side-nave  board-modal-options flex col",children:[Object(a.jsxs)("span",{className:"btn-in-modal flex align-center",onClick:function(){s&&(s(),n())},children:[Object(a.jsx)(at.a,{}),"Rename Board"]}),Object(a.jsxs)("span",{className:"btn-in-modal flex align-center",children:[Object(a.jsx)(tt.a,{}),"Add to Favorites"]}),Object(a.jsxs)("span",{onClick:function(){return d()},className:"btn-in-modal flex align-center",children:[Object(a.jsx)(Pe.a,{}),"Delete Board"]}),l&&Object(a.jsx)(Be,{info:t,keyName:"board",onRemove:c,onToggleModalDelete:n}),l&&Object(a.jsx)("div",{className:"dark-screen-nover ",onClick:function(){return d()}})]})}function ct(e){var t=Object(p.d)((function(e){return e.boardReducer})),n=t.activeBoard,c=t.boards,s=Object(p.d)((function(e){return e.userReducer})).loggedInUser,o=Object(r.useState)(!1),i=Object(j.a)(o,2),u=i[0],h=i[1],O=Object(r.useState)(null),g=Object(j.a)(O,2),k=g[0],y=g[1],N=Object(r.useState)(null),w=Object(j.a)(N,2),S=w[0],C=w[1],D=Object(r.useState)(!1),U=Object(j.a)(D,2),A=U[0],M=U[1],T=Object(r.useState)(!1),E=Object(j.a)(T,2),B=E[0],_=E[1],I=Object(p.c)(),L=Object(l.f)(),G=function(){var t=e.match.params.boardId;I(J(t))};Object(r.useEffect)((function(){return G(),P(),W.emit("chat topic",e.match.params.boardId),function(){W.off("update board"),W.off("update boards")}}),[]),Object(r.useEffect)((function(){(null===n||void 0===n?void 0:n._id)!==e.match.params.boardId&&(W.emit("chat topic",e.match.params.boardId),G())}),[e]),Object(r.useEffect)((function(){F()}),[n]);var P=function(){W.on("update board",(function(){G()})),W.on("update boards",(function(){I(J()),G()}))},F=function(){var e=[];null===n||void 0===n||n.groups.forEach((function(t){var n=t.tasks.filter((function(e){return e.members.find((function(e){return(null===e||void 0===e?void 0:e._id)===s._id}))}));n.length&&(n=n.map((function(e){return e.groupName=t.name,e})),e.push.apply(e,Object(f.a)(n)))})),C(e)},H=function(){S.length?M(!A):I(q("No Activities"))},K=function(e,t){var a=Object(m.a)({},n);a[t]=e,I(z(a)),"name"===t&&I(function(e,t){return function(n){try{n({type:"SET_BOARDS",boards:R.updateBoards(e,t)})}catch(a){console.log("Board Actions: err in updateBoards",a)}}}(a,c))},X=function(){var e=Object(b.a)(d.a.mark((function e(t){var a,r,c,s,o,i,l,u,b,p,f,h,O,x,g,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.source,r=t.destination,c=t.type,s=Object(m.a)({},n),r){e.next=4;break}return e.abrupt("return");case 4:if(r.droppableId!==a.droppableId||r.index!==a.index){e.next=6;break}return e.abrupt("return");case 6:"group"===c?(o=Z(n.groups,a.index,r.index),s.groups=o):"task"===c&&(r.droppableId===a.droppableId?(i=n.groups.findIndex((function(e){return e.id===a.droppableId})),l=Z(n.groups[i].tasks,a.index,r.index),s.groups[i].tasks=l):r.droppableId!==a.droppableId&&(u=a.droppableId,b=r.droppableId,p=n.groups.findIndex((function(e){return e.id===u})),f=Array.from(n.groups[p].tasks),h=f.splice(a.index,1),O=Object(j.a)(h,1),x=O[0],g=n.groups.findIndex((function(e){return e.id===b})),(v=Array.from(n.groups[g].tasks)).splice(r.index,0,x),s.groups[p].tasks=f,s.groups[g].tasks=v)),I(z(s));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(j.a)(r,1)[0];return a.splice(n,0,c),a},ee=function(){h(!u)},ne=function(){_(!B)},ae=function(e,t,n){var a=e.tasks.filter((function(e){return e[t]===n[t]}));if(a.length)return e.tasks=a,e};return n?Object(a.jsxs)("section",{className:"board-details flex col",children:[Object(a.jsxs)("div",{className:"board-header-top-container flex col",children:[Object(a.jsxs)("div",{className:"board-header-top-left flex",children:[Object(a.jsx)("div",{className:"board-name editable",contentEditable:"true",onBlur:function(e){K(e.target.innerText,"name")},suppressContentEditableWarning:!0,onKeyDown:function(e){"Enter"===e.key&&e.target.blur()},children:n.name}),Object(a.jsxs)("div",{className:"board-header-top-right flex",children:[Object(a.jsx)("span",{children:Object(a.jsx)(Y.a,{max:3,children:n.members.map((function(e){return Object(a.jsx)(Q.a,{className:"avatar",alt:"".concat(e.fullname),src:e.imgUrl},e._id)}))})}),Object(a.jsxs)("span",{className:"activities",onClick:function(){return H()},children:["Activities / ",null===S||void 0===S?void 0:S.length]}),A&&Object(a.jsx)($e,{activities:S,activeModal:A,togglemodalActivities:H}),A&&Object(a.jsx)("div",{className:"dark-screen "}),Object(a.jsx)(te.a,{className:"libary-icon"}),B&&Object(a.jsx)(rt,{className:"board-modal-options",board:n,onRemove:function(e){I(V(e)),n._id===e&&L.push("/board/".concat(c[1]._id)),ne()},onToggleModalOptions:ne}),B&&Object(a.jsx)("div",{className:"screen ",onClick:function(){return ne()}}),Object(a.jsx)($.a,{onClick:function(){return ne()}})]})]}),Object(a.jsx)("span",{className:"board-desc editable",contentEditable:"true",onBlur:function(e){K(e.target.innerText,"desc")},suppressContentEditableWarning:!0,onKeyDown:function(e){"Enter"===e.key&&e.target.blur()},children:n.desc}),Object(a.jsxs)("div",{className:"board-header-bottom-container flex space-between",children:[Object(a.jsx)("button",{className:"btn-add-view",children:"+ Add view"}),Object(a.jsx)("div",{className:"board-creator",children:Object(a.jsxs)("span",{onClick:function(){L.push("/profile/".concat(n.creator._id))},children:["Created By: ",n.creator.fullname]})})]})]}),Object(a.jsxs)("div",{className:"bottom-right-container flex",children:[Object(a.jsx)("button",{className:"btn-add-group",onClick:function(){return function(e){var t=v.add(e,n);I(z(t,"Add group successfully"))}("new group")},children:"New Group"}),Object(a.jsx)(Ze,{getGroupsForDisplay:function(e){var t=n.groups,a=JSON.parse(JSON.stringify(t)),r=[];if(!e)return y(null);if(e.txt){var c=new RegExp(e.txt,"i");a.forEach((function(e){if(c.test(e.name))r.push(e);else{var t=e.tasks.filter((function(e){return c.test(e.name)}));if(t.length){var n=Object(m.a)({},e);n.tasks=t,r.push(n)}}}))}e.groupName&&(r=a.filter((function(t){return t.name===e.groupName}))),e.member&&(r=a.filter((function(t){var n=[];return t.tasks.forEach((function(t){t.members.some((function(t){return t.fullname===e.member}))&&n.push(t)})),n.length?(t.tasks=n,t):t}))),e.status&&(r=a.filter((function(t){return ae(t,"status",e)}))),e.priority&&(r=a.filter((function(t){return ae(t,"priority",e)}))),y(r)},groups:k&&k.length?k:n.groups,activeBoard:n,toggleFilter:ee,isFilterShow:u}),Object(a.jsx)($.a,{})]}),u&&Object(a.jsx)("div",{className:"screen",onClick:ee}),Object(a.jsx)(Ke,{groups:k&&k.length?k:n.groups,onRemoveTask:function(e,t){var a=x.remove(e,n,t);I(z(a,"Remove task successfully"))},onAddTask:function(e,t){var a=x.add(e,n,t);I(z(a,"Add task successfully"))},onUpdateTask:function(e,t){var a=x.update(e,n,t);I(z(a,"Update task successfully"))},onUpdateGroup:function(e){var t=v.update(e,n);I(z(t))},onRemoveGroup:function(e){var t=v.remove(e,n);I(z(t,"Remove group successfully"))},handleDragEnd:X,activeBoard:n,loggedInUser:s})]}):Object(a.jsx)("div",{children:"Looks Like This Board Does Not Exist..."})}var st=n(223),ot=n(121),it=n.n(ot),lt=n(122),ut=n.n(lt),dt=n(236);function bt(e){var t=e.getBoradsForDisplay,n=e.toggleSarech,c=Object(r.useState)({txt:""}),s=Object(j.a)(c,2),o=s[0],i=s[1];return Object(a.jsxs)("section",{className:"board-filter flex",children:[Object(a.jsx)(dt.a,{type:"text",name:"name",autoFocus:!0,autoComplete:"off",placeholder:"search",onChange:function(e){return function(e){var n=Object(m.a)({},o);n.txt=e.target.value,i(n),t(n.txt)}(e)},value:o.txt}),Object(a.jsx)("button",{className:"btn-close",onClick:function(){return n()},children:"X"})]})}function jt(e){var t=e.board,n=e.onRemove,s=Object(r.useState)(!1),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(r.useState)(""),b=Object(j.a)(d,2),f=b[0],h=b[1],O=Object(r.useState)(!1),x=Object(j.a)(O,2),g=x[0],v=x[1],k=Object(p.c)();Object(r.useEffect)((function(){h(t.name)}),[]);var y=function(){u(!l)},N=function(){var e=Object(m.a)({},t);e.name=f.charAt(0).toUpperCase()+f.slice(1),h(e.name),k(z(e,"Update Board successfully"))};return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)("section",{className:"board-preview flex align-center",children:[!g&&Object(a.jsx)(i.b,{to:"/board/".concat(t._id),children:f}),g&&Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),N(),v(!1)}(e)},children:[Object(a.jsx)("input",{className:"input-edit-board",value:f,autoComplete:"off",autoFocus:!0,onChange:function(e){return function(e){var n=e.target.value,a=Object(m.a)({},t);a.name=n,h(a.name)}(e)}}),Object(a.jsx)("button",{type:"submit",hidden:!0})]}),Object(a.jsx)($.a,{className:"more-icon",onClick:function(){return y()}}),l&&Object(a.jsx)(rt,{board:t,onRemove:n,onToggleModalOptions:y,onToggleEditName:function(){v(!g)}}),l&&Object(a.jsx)("div",{className:"screen",onClick:function(){return y()}})]})})}function pt(e){var t=e.boards,n=e.onRemove;return Object(a.jsx)("section",{className:"board-list",children:t.map((function(e){return Object(a.jsx)(jt,{board:e,onRemove:n},e._id)}))})}function ft(e){var t=e.onRemove,n=e.onAdd,c=Object(p.d)((function(e){return e.boardReducer})),s=c.boards,o=(c.msg,Object(p.d)((function(e){return e.userReducer})).loggedInUser),i=Object(r.useState)(!1),u=Object(j.a)(i,2),f=u[0],m=u[1],h=Object(r.useState)(!1),O=Object(j.a)(h,2),x=O[0],g=O[1],v=Object(r.useState)(!1),k=Object(j.a)(v,2),y=k[0],N=k[1],w=Object(r.useState)(null),S=Object(j.a)(w,2),C=S[0],D=S[1],U=Object(r.useState)(""),A=Object(j.a)(U,2),M=A[0],T=A[1],R=(Object(l.f)(),Object(r.useRef)(null));Object(r.useEffect)((function(){D(s)}),[s]);var E=function(){N(!y)},B=function(){g(!x)},_=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=M.charAt(0).toUpperCase()+M.slice(1),e.next=4,n(a,o);case 4:E();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new RegExp(t,"i"),a=s.filter((function(e){return n.test(e.name)})),D(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("section",{className:"".concat(f?"board-side-nav flex col":"board-side-nav-close"),children:[Object(a.jsxs)("div",{className:"board-side-nav-top flex col align-start space-between",children:[Object(a.jsx)("button",{className:"btn-toggle-sidenav flex center align-center",onClick:function(){m(!f)},children:f?Object(a.jsx)(it.a,{className:"arrow-back"}):Object(a.jsx)(ut.a,{})}),Object(a.jsx)("h2",{children:"My Boards:"}),Object(a.jsxs)("button",{className:"btn-add flex align-center",onClick:function(){return E()},children:[Object(a.jsx)(st.a,{}),"Add"]}),Object(a.jsxs)("button",{className:"btn-filter flex align-center",children:[Object(a.jsx)(Ye.a,{}),"Filters"]}),!x&&Object(a.jsxs)("button",{className:"btn-filter flex align-center",onClick:function(){return B()},children:[Object(a.jsx)(Xe.a,{}),"Search"]}),x&&Object(a.jsx)(bt,{inputRef:R,toggleSarech:B,getBoradsForDisplay:I})]}),Object(a.jsxs)("div",{className:"board-side-nav-bottom flex col",children:[Object(a.jsx)(pt,{boards:C||s,onRemove:t}),y&&Object(a.jsx)("form",{onSubmit:function(e){return _(e)},children:Object(a.jsx)("input",{className:"input-new-board",type:"text",placeholder:"Enter board name",onChange:function(e){return function(e){var t=e.target.value;T(t)}(e)},autoFocus:!0})})]})]})}var mt="api",ht={login:function(e){return kt.apply(this,arguments)},logout:function(){return Nt.apply(this,arguments)},signup:function(e){return yt.apply(this,arguments)},getUsers:function(){return S("".concat(mt,"/user"))},getById:Ot,remove:function(e){return U("".concat(mt,"/user/").concat(e))},update:xt,getLoggedinUser:St,increaseScore:function(){return vt.apply(this,arguments)},addNotification:function(e,t){return Ct.apply(this,arguments)}};function Ot(e){return S("".concat(mt,"/user/").concat(e))}function xt(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("".concat(mt,"/user/").concat(t._id),t);case 2:t=e.sent,St()._id===t._id&&wt(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){return(vt=Object(b.a)(d.a.mark((function e(){var t,n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:10,(n=St()).score=n.score+t||t,e.next=5,xt(n);case 5:return e.abrupt("return",n.score);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(){return(kt=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("".concat(mt,"/auth/login"),t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",wt(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return(yt=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("".concat(mt,"/auth/signup"),t);case 2:return n=e.sent,e.abrupt("return",wt(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(){return(Nt=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,C("".concat(mt,"/auth/logout"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function St(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}function Ct(){return(Ct=Object(b.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(t);case 2:return(a=e.sent).notifications.push(n),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e){return function(){var t=Object(b.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ht.getById(e._id);case 3:t.sent&&(n({type:"SET_USER",user:e}),ht.update(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("user Actions: err in updateUser",t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})));return function(e){return t.apply(this,arguments)}}()}function Ut(e){return function(){var t=Object(b.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ht.login(e);case 3:if(!(a=t.sent)){t.next=7;break}return n({type:"SET_USER",user:a}),t.abrupt("return",a);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function At(e){return console.log("userCreds is:",e),function(){var t=Object(b.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ht.signup(e);case 3:return a=t.sent,n({type:"SET_USER",user:a}),t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.log("UserActions: err in signup",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Mt(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ht.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}var Tt=n(224),Rt=n(225),Et=n(226),Bt=n(227),_t=n(228),It=n(229);function Lt(e){var t=e.notification;return Object(a.jsxs)("section",{className:"noti-preview",children:[Object(a.jsx)("span",{children:t.byUser.fullname}),Object(a.jsx)("span",{className:"noti-content",children:t.content})]})}function Gt(e){var t=e.notifications;return Object(a.jsx)("section",{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)(Lt,{notification:e},t)}))})}function Pt(e){var t=e.notifications;return Object(a.jsxs)("section",{className:"noti-modal",children:[Object(a.jsx)("span",{className:"noti-header",children:"notifications:"}),Object(a.jsx)(Gt,{notifications:t})]})}var Ft=n.p+"static/media/logo.f06faa17.png",Wt=n(123),Ht=n.n(Wt);function Jt(){var e=Object(p.d)((function(e){return e.userReducer})).loggedInUser,t=Object(r.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1],o=Object(r.useState)([]),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(r.useState)(!1),h=Object(j.a)(b,2),O=h[0],x=h[1],g=Object(r.useState)(!1),v=Object(j.a)(g,2),k=v[0],y=v[1],N=Object(p.c)();Object(r.useEffect)((function(){return W.on("board add notification",(function(t){var n=[t].concat(Object(f.a)(e.notifications));d(n),x(!0);var a=Object(m.a)({},e);a.notifications=n,N(Dt(a))})),d(e.notifications),function(){W.off("board add notification")}}),[]),Object(r.useEffect)((function(){d(e.notifications)}),[e]);var w=function(){s(!c),x(!1)},S=function(){y(!k)};return Object(a.jsxs)("div",{className:"header-main flex",children:[Object(a.jsxs)("div",{className:"tab-name",children:["Hi,",(null===e||void 0===e?void 0:e.fullname)||"Guest"]}),Object(a.jsxs)("div",{className:"header-left-panel flex col",children:[Object(a.jsx)("div",{className:"header-left-logo",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsx)("img",{src:Ft,alt:"Logo"})})}),Object(a.jsxs)("div",{className:"header-left-top flex col",children:[Object(a.jsx)(i.b,{className:"header-item",to:"/board",title:"My Boards",children:Object(a.jsx)(Tt.a,{})}),Object(a.jsxs)("span",{title:"Notifications",className:"notifications header-item",onClick:function(){return w()},children:[Object(a.jsx)(Rt.a,{}),O&&Object(a.jsx)("div",{className:"new-notification"}),c&&Object(a.jsx)(Pt,{notifications:u})]}),c&&Object(a.jsx)("div",{onClick:function(){return w()},className:"screen"})]}),Object(a.jsxs)("div",{className:"header-left-bottom flex col end ".concat(!k&&"open"),children:[Object(a.jsx)("span",{className:"event-note header-item flex align-center",children:Object(a.jsx)(i.b,{to:"/myweek",title:"My week",children:Object(a.jsx)(Et.a,{})})}),Object(a.jsx)("span",{className:"person header-item flex align-center",children:Object(a.jsx)(i.b,{to:"/profile",title:"My profile",children:Object(a.jsx)(Q.a,{className:"avatar",alt:"".concat((null===e||void 0===e?void 0:e.fullname)||"G"," "),src:(null===e||void 0===e?void 0:e.url)||"G"})})}),Object(a.jsx)("span",{className:"exit-to-app header-item flex align-center",children:Object(a.jsx)(i.b,{to:"",onClick:function(){return N(Mt())},title:"Logout",children:Object(a.jsx)(Bt.a,{})})})]})]}),Object(a.jsxs)("div",{className:"header-right-panel flex col",children:[Object(a.jsx)("div",{className:"header-right-top"}),Object(a.jsxs)("div",{className:"header-right-middle flex col align-center",children:[Object(a.jsx)(_t.a,{className:"header-item"}),Object(a.jsx)(It.a,{className:"header-item"})]}),Object(a.jsx)("div",{className:"header-right-bottom"})]}),Object(a.jsx)("button",{className:"hamburger",onClick:function(){return S()},children:Object(a.jsx)(Ht.a,{className:"hamburger"})}),k&&Object(a.jsx)("div",{className:"dark-screen-nover",onClick:function(){return S()}})]})}n.p;var zt=n.p+"static/media/loader.9719333e.mp4";function Kt(){return Object(a.jsx)("div",{className:"loader-container flex center align-center",children:Object(a.jsx)("video",{width:"600",height:"600",autoPlay:!0,loop:!0,preload:"true",children:Object(a.jsx)("source",{src:zt,type:"video/mp4"})})})}function Vt(e){var t=e.msgOpen,n=Object(p.d)((function(e){return e.boardReducer})).msg;return Object(a.jsx)("div",{className:"modal-msg ".concat(t?"open":"close"," "),children:Object(a.jsx)("span",{children:n})})}function Xt(e){var t=Object(p.d)((function(e){return e.userReducer})).loggedInUser,n=Object(p.d)((function(e){return e.boardReducer})),c=n.boards,s=n.activeBoard,o=n.msg,i=Object(r.useState)(!1),u=Object(j.a)(i,2),f=u[0],m=u[1],h=Object(r.useState)(!1),O=Object(j.a)(h,2),x=O[0],g=O[1],v=Object(r.useState)(!1),k=Object(j.a)(v,2),y=k[0],N=k[1],w=Object(p.c)(),S=Object(l.f)();Object(r.useEffect)((function(){g(!0),setTimeout(Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:case"end":return e.stop()}}),e)}))),4e3)}),[]),Object(r.useEffect)((function(){t&&(m(!0),setTimeout((function(){m(!1)}),4e3))}),[S]),Object(r.useEffect)((function(){if(o&&(N(!0),setTimeout((function(){N(!1),w(q(null))}),1700)),"Add Board successfully"===o){var e=c.length;S.push("/board/".concat(c[e-1]._id))}}),[o]);var C=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:if(!e.sent){e.next=6;break}return e.next=6,U();case 6:g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(H()).then((function(e){return S.push("/board/".concat(e[0]._id))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(X(c[0]));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(V(t)),s._id===t&&(n=c.findIndex((function(e){return e._id===t})),S.push("/board/".concat(c[n-1]._id)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(K(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsxs)("section",{className:"board-app flex",children:[Object(a.jsx)(Jt,{}),x&&Object(a.jsx)(Kt,{}),!f&&!x&&Object(a.jsxs)("section",{className:"board-main flex",children:[Object(a.jsx)(ft,{onRemove:function(e){return A(e)},onAdd:function(e,t){return M(e,t)}}),Object(a.jsx)(l.c,{children:Object(a.jsx)(l.a,{path:"/board/:boardId",component:ct})}),Object(a.jsx)(Vt,{msgOpen:y})]})]})}function qt(){var e=Object(p.c)();Object(r.useEffect)((function(){}),[]);return Object(a.jsxs)("section",{className:"home flex col",children:[Object(a.jsx)("div",{className:"home-header flex start align-center",children:Object(a.jsx)(i.b,{to:"/login",title:"Login",children:"Login"})}),Object(a.jsxs)("div",{className:"home-main flex",children:[Object(a.jsxs)("div",{className:"first-panel flex col center align-start",children:[Object(a.jsx)("h1",{children:"Join the future"}),Object(a.jsxs)("p",{children:["The next step in multi-planning and productivity!",Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"Sheny"})," will help you keep track of hundreds of tasks.",Object(a.jsx)("br",{}),"An efficient way to manage your co-workers / employees.",Object(a.jsx)("br",{}),"Half the hassle, twice the fun."]}),Object(a.jsx)(i.b,{to:"/board",title:"Demo",onClick:function(){return function(){var t={isAdmin:!1,fullname:"Guest Guestis",username:"Guest",password:"0000",email:"Guest@gmail.com",phoneNumber:"0524735510",birthday:"20/02/2000",company:"Mister Bit."};sessionStorage.setItem("loggedinUser",JSON.stringify(t)),e(Ut(t))}()},children:Object(a.jsx)("button",{children:"Start Here!"})})]}),Object(a.jsx)("div",{className:"second-panel",children:Object(a.jsx)("img",{src:Ft,alt:"Logo"})})]})]})}var Yt=n(104);function Qt(e){var t=e.board,n=e.userId,c=Object(r.useState)([]),s=Object(j.a)(c,2),o=s[0],l=s[1];Object(r.useEffect)((function(){u(n)}),[]);var u=function(e){var n=t.groups,a=[];n.forEach((function(n){var r=n.tasks.filter((function(t){return t.members.find((function(t){return t._id===e}))}));r.length&&(r=r.map((function(e){return e.groupName=n.name,e.boardName=t.name,e})),a.push.apply(a,Object(f.a)(r)))})),l(a)},d=function(e){var t=Yt(e.startDate,"dd-mm-yyyy"),n=Yt(e.endDate,"dd-mm-yyyy");return"".concat(t," / ").concat(n)};return Object(a.jsx)("section",{children:o.map((function(e){return Object(a.jsxs)("div",{className:"tasks-user flex space-between",children:[Object(a.jsxs)("div",{className:"left flex col",children:[Object(a.jsx)("span",{children:e.name}),Object(a.jsxs)("div",{children:[Object(a.jsx)(i.b,{to:"/board/".concat(t._id),children:"At: ".concat(e.boardName)}),">",Object(a.jsx)(i.b,{to:"/board/".concat(t._id),children:"".concat(e.groupName)})]})]}),Object(a.jsx)("div",{className:"right flex",children:d(e.dateRange)})]},e.id)}))})}function Zt(e){var t=e.boards,n=e.userId;return Object(a.jsx)("div",{className:"list",children:t.map((function(e){return Object(a.jsx)(Qt,{board:e,userId:n},e._id)}))})}var $t=n.p+"static/media/calendar.5a3c2ae0.png";function en(){var e=Object(p.d)((function(e){return e.userReducer})).loggedInUser,t=Object(p.d)((function(e){return e.boardReducer})).boards,n=Object(r.useState)(null),s=Object(j.a)(n,2),o=(s[0],s[1]),i=Object(r.useState)(!0),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(r.useState)({txt:""}),f=Object(j.a)(b,2),h=f[0],O=f[1],x=Object(p.c)();Object(r.useEffect)((function(){x(H()),t&&t.length}),[]);var g=function(){if(!h)return o(null)};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Jt,{}),Object(a.jsxs)("section",{className:"my-week",children:[Object(a.jsxs)("div",{className:"top flex space-around align-center",children:[Object(a.jsx)("img",{src:$t,alt:""}),Object(a.jsxs)("h2",{children:["Hey ",e.username," ,You have 4 assignments this week"]})]}),Object(a.jsx)(dt.a,{type:"text",name:"name",autoComplete:"off",placeholder:"Search",onChange:function(){return function(e){var t=Object(m.a)({},h);t.txt=e.target.value,O(t),g()}()}}),Object(a.jsxs)("div",{className:"bottom",children:[Object(a.jsxs)("div",{className:"flex space-between",children:[Object(a.jsx)("p",{children:"Tasks For You:"}),Object(a.jsx)(ve.a,{onClick:function(){d(!u)},children:u?"Close tasks":"Open tasks"})]}),u&&Object(a.jsx)(Zt,{boards:t,userId:e._id})]})]})]})}var tn=n(230),nn=n(231),an=n(232),rn=n(233),cn=n(234);function sn(e){var t=e.user,n=e.keyModal,c=e.setIsModalShown,s=e.onUpdateUser,o=Object(r.useState)(""),i=Object(j.a)(o,2),l=i[0],u=i[1],d=Object(r.useState)(""),b=Object(j.a)(d,2),p=b[0],f=b[1];Object(r.useEffect)((function(){m(),u(t[n])}),[]);var m=function(){f("birthday"===n?"date":"phone"===n?"number":"text")};return Object(a.jsxs)("div",{className:"modal-profile ",children:[Object(a.jsx)("button",{onClick:function(){return c(!1)},children:"X"}),Object(a.jsx)("h1",{children:n}),Object(a.jsxs)("form",{onSubmit:function(){return s(l),void c(!1)},children:[Object(a.jsx)("input",{type:p,value:l,autoFocus:"on",onChange:function(e){var t=e.target.value;u(t)}}),Object(a.jsx)("button",{type:"submit",children:"Save info"})]})]})}function on(){Object(p.d)((function(e){return e.boardReducer})).boards,Object(p.d)((function(e){return e.userReducer})).loggedInUser;var e=Object(r.useState)({}),t=Object(j.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(""),i=Object(j.a)(o,2),l=i[0],u=i[1],f=Object(r.useState)(!1),h=Object(j.a)(f,2),O=h[0],x=h[1],g=Object(r.useState)(""),v=Object(j.a)(g,2),k=v[0],y=v[1],N=Object(p.c)();Object(r.useEffect)((function(){w(),S("tak took")}),[]);var w=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht.getLoggedinUser();case 2:t=e.sent,n=S(t.fullname),s(t),u(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){var t=e.split(" ");return(t[0].charAt(0)+t[1].charAt(0)).toUpperCase()},C=function(){var e;N((e=n._id,function(){var t=Object(b.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ht.remove(e);case 3:n({type:"REMOVE_USER",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()))},D=function(e){x(!0),y(e)};return n==={}?Object(a.jsx)("div",{children:"Loading..."}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Jt,{}),Object(a.jsxs)("section",{className:"profile flex col space-between",children:[Object(a.jsxs)("div",{className:"profile-header flex col align-center",children:[Object(a.jsx)("div",{children:l}),Object(a.jsx)("h1",{children:n.fullname})]}),Object(a.jsx)("div",{className:"profile-main flex ",children:Object(a.jsxs)("div",{className:"third-panel",children:[Object(a.jsx)(Q.a,{className:"avatar",alt:"".concat(n.fullname||"G"," "),src:n.url||"G"}),Object(a.jsxs)("div",{className:"clean-list",children:[Object(a.jsxs)("li",{onClick:function(){return D("fullname",n.fullname)},children:[Object(a.jsx)(tn.a,{}),Object(a.jsx)("span",{children:"User name:"}),n.fullname]}),Object(a.jsxs)("li",{onClick:function(){return D("email",n.email)},children:[Object(a.jsx)(nn.a,{}),Object(a.jsx)("span",{children:"Email:"}),n.email]}),Object(a.jsxs)("li",{onClick:function(){return D("phone",n.phone)},children:[Object(a.jsx)(an.a,{}),Object(a.jsx)("span",{children:"Phone:"}),n.phone]}),Object(a.jsxs)("li",{onClick:function(){return D("birthday",n.birthday)},children:[Object(a.jsx)(rn.a,{}),Object(a.jsx)("span",{children:"Birthday:"}),n.birthday]}),Object(a.jsxs)("li",{onClick:function(){return D("company",n.company)},children:[Object(a.jsx)(cn.a,{}),Object(a.jsx)("span",{children:"Company:"}),n.company," "]})]}),Object(a.jsx)("button",{className:"btn-remove",onClick:function(){return C()},children:"Remove user"})]})}),O&&Object(a.jsx)(sn,{user:n,keyModal:k,setIsModalShown:x,onUpdateUser:function(e){var t=Object(m.a)({},n);t[k]=e,s(t),N(Dt(t))}}),O&&Object(a.jsx)("div",{className:"dark-screen-nover"})]})]})}var ln=n(127),un=n.n(ln),dn=n(125),bn=n.n(dn),jn=n(126),pn=n.n(jn),fn=n(124),mn=n.n(fn);function hn(){var e=this,t=Object(r.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1],o=Object(r.useState)(""),u=Object(j.a)(o,2),f=u[0],h=u[1],O=Object(r.useState)(ht.getLoggedinUser()),x=Object(j.a)(O,2),g=x[0],v=(x[1],Object(r.useState)({username:"",password:""})),k=Object(j.a)(v,2),y=k[0],N=k[1],w=Object(r.useState)({username:"",password:"",fullname:"",email:"",url:""}),S=Object(j.a)(w,2),C=S[0],D=S[1],U=Object(r.useState)(!1),A=Object(j.a)(U,2),M=A[0],T=A[1],R=Object(p.c)(),E=Object(l.f)(),B=function(e){var t=e.target,n=t.name,a=t.value,r=Object(m.a)({},y);r[n]=a,N(r)},_=function(e){var t=e.target,n=t.name,a=t.value,r=Object(m.a)({},C);r[n]=a,D(r)},I=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=y.username,a=y.password,n&&a){e.next=4;break}return e.abrupt("return",h("Please enter user/password"));case 4:try{R(Ut({username:n,password:a})).then((function(e){e&&(N({username:"",password:""}),E.push("/board"))}))}catch(r){h("Login failed, try again.")}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var t=Object(b.a)(d.a.mark((function t(n){var a,r,c,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=C.username,r=C.password,c=C.fullname,s=C.email,o=C.url,a&&r&&c){t.next=4;break}return t.abrupt("return",h("All inputs are required"));case 4:i={username:a,password:r,fullname:c,email:s,url:o};try{R(At(i)).then((function(e){e&&(D({username:"",password:"",fullname:"",email:""}),E.push("/board"))}))}catch(l){e.setState({msg:"signup failed, try again."})}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(e){e.preventDefault(),s(!c)},P=Object(a.jsxs)("form",{className:"login flex col",onSubmit:function(e){return I(e)},children:[Object(a.jsx)("h2",{children:"Login"}),Object(a.jsx)(dt.a,{type:"text",name:"username",autoComplete:"off",value:y.username,onChange:function(e){return B(e)},placeholder:"Username"}),Object(a.jsx)(dt.a,{id:"standard-adornment-password",type:"password",name:"password",autoComplete:"off",value:y.password,onChange:function(e){return B(e)},placeholder:"Password"}),Object(a.jsx)("button",{className:"btn-login",children:"Login"}),Object(a.jsx)("a",{href:"\\login",onClick:function(e){return G(e)},children:"Dont have a user? signup"}),Object(a.jsxs)("span",{className:"login-facebook-btn",children:[Object(a.jsx)(bn.a,{className:"face-icon"}),Object(a.jsx)(mn.a,{appId:"4052456894837314",autoLoad:!1,fields:"name,email,picture",onClick:function(){},callback:function(e){if(e){var t=e.name.split(" ").slice(0,-1).join(" ");D({username:t,password:"",fullname:e.name,email:e.email,url:e.picture.data.url}),s(!0),T(!0),h("Need to create a Password")}}})]})]}),F=Object(a.jsxs)("form",{className:"signup flex col",onSubmit:function(e){return L(e)},children:[Object(a.jsx)("h2",{children:"Signup"}),Object(a.jsx)(dt.a,{type:"text",value:C.username,name:"username",autoComplete:"off",onChange:function(e){return _(e)},placeholder:"Username*"}),Object(a.jsx)(dt.a,{name:"password",type:"password",value:C.password,autoComplete:"off",autoFocus:M,onChange:function(e){return _(e)},placeholder:"Password*"}),Object(a.jsx)(dt.a,{type:"text",name:"fullname",value:C.fullname,autoComplete:"off",onChange:function(e){return _(e)},placeholder:"Full name*"}),Object(a.jsx)(dt.a,{type:"text",name:"email",value:C.email,autoComplete:"off",onChange:function(e){return _(e)},placeholder:"Email*"}),Object(a.jsx)("button",{className:"btn-login",children:"Signup"}),Object(a.jsxs)("a",{href:"/",onClick:function(e){return G(e)},children:[" ","have a user? login"]})]});return Object(a.jsxs)("div",{className:"login-page",children:[Object(a.jsx)(i.b,{className:"arrow-left","data-title":"Back to Home",to:"/",children:Object(a.jsx)(pn.a,{})}),Object(a.jsxs)("section",{className:"login-container",children:[Object(a.jsx)(un.a,{}),Object(a.jsx)("p",{children:f}),g&&Object(a.jsx)("div",{children:Object(a.jsxs)("h3",{children:["Are you sure you want to exit? ",g.fullname,Object(a.jsx)("button",{className:"btn-login",onClick:R(Mt()),children:"Logout"})]})}),!g&&!c&&P,!g&&c&&F]})]})}function On(){return Object(a.jsx)(i.a,{children:Object(a.jsx)("div",{className:"App flex",children:Object(a.jsx)("main",{className:"flex",children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/board",component:Xt}),Object(a.jsx)(l.a,{path:"/myweek",component:en}),Object(a.jsx)(l.a,{path:"/profile/:userId?",component:on}),Object(a.jsx)(l.a,{path:"/login",component:hn}),Object(a.jsx)(l.a,{path:"/",component:qt})]})})})})}W.setup();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xn=n(128),gn=n(31),vn={activeBoard:null,boards:[],msg:""};var kn={isAdmin:!1,fullname:"Guest Guestis",username:"Guest",email:"Guest@gmail.com",phone:"0524735510",birthday:"20/02/2000",company:"Mister Bit.",url:"",createdAt:Date.now(),notifications:[]};sessionStorage.loggedinUser&&(kn=JSON.parse(sessionStorage.loggedinUser));var yn={loggedInUser:kn,users:[]};var Nn=Object(gn.c)({boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return Object(m.a)(Object(m.a)({},e),{},{boards:t.boards});case"SET_BOARD":return Object(m.a)(Object(m.a)({},e),{},{activeBoard:t.board});case"REMOVE_BOARD":return Object(m.a)(Object(m.a)({},e),{},{boards:e.boards.filter((function(e){return t.boardId!==e._id}))});case"ADD_BOARD":return Object(m.a)(Object(m.a)({},e),{},{boards:[].concat(Object(f.a)(e.boards),[t.board])});case"SET_MSG":return Object(m.a)(Object(m.a)({},e),{},{msg:t.msg});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(m.a)(Object(m.a)({},e),{},{loggedInUser:t.user});case"LOGOUT_USER":return Object(m.a)(Object(m.a)({},e),{},{loggedInUser:null});case"REMOVE_USER":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(m.a)(Object(m.a)({},e),{},{users:t.users});default:return e}}}),wn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||gn.d,Sn=Object(gn.e)(Nn,wn(Object(gn.a)(xn.a)));o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(p.a,{store:Sn,children:Object(a.jsx)(On,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[198,1,2]]]);
//# sourceMappingURL=main.553ccacc.chunk.js.map